(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{225:function(e,t,a){e.exports=a(362)},362:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),s=a.n(c),o=a(78),i=a.n(o),l=a(79),h=a(49),u=a(9),m=a(10),p=a(11),d=a(8),b=a(12),f=a(56),E=a.n(f),k=a(47),g=a.n(k),O=a(76),v=a.n(O),j=a(77),y=a.n(j),w=a(17),x=a.n(w),S=a(7),C=a.n(S),N=a(23),D=a.n(N),T=a(13),B=a(39),A=a.n(B),_=a(80),H=a.n(_),L=a(149),I=a.n(L),W=a(24),P=a(4),G=a.n(P),R=a(154),U=/MSIE/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent),z=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.url,n=Object(R.a)(e,["children","url"]),c={color:"inherit",textDecoration:"none"};return a.startsWith("/")?r.a.createElement(l.b,Object.assign({exact:!0,to:a},n,{style:c}),t):r.a.createElement("a",Object.assign({href:a,target:U?"_self":"_blank",rel:"noopener"},n,{style:c}),t)}}]),t}(r.a.Component),K=a(35),V=a.n(K),q=a(54),F=a.n(q),M={root:{padding:"0 4px",display:"flex",alignItems:"center",width:"100%",height:36},input:{marginLeft:8,flex:1},iconButton:{padding:10}},J=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:""},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.classes;return r.a.createElement(V.a,{className:a.root,elevation:1},r.a.createElement(F.a,{className:a.input,placeholder:this.props.placeholder,value:this.state.inputValue,onChange:function(e){t.setState({inputValue:e.target.value})},onKeyPress:(e=function(){t.props.onSubmit(t.state.inputValue)},function(t){13!==t.keyCode&&13!==t.which||(t.preventDefault(),e())})}),r.a.createElement(A.a,{className:a.iconButton,"aria-label":"Search",onClick:function(){t.props.onSubmit(t.state.inputValue)}},r.a.createElement(H.a,null)))}}]),t}(r.a.Component),Y=Object(W.withStyles)(M)(J),$=function(e){var t;return{root:{width:"100%"},container:{overflowY:"hidden",flexWrap:"wrap",height:48,minHeight:48,transition:"height ".concat(.3,"s ease-out")},containerExpanded:Object(T.a)({padding:"0 1rem 1rem",height:96},e.breakpoints.up("sm"),{padding:"0 1rem",height:48}),grow:{flexGrow:1},title:Object(T.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),mobileSearchButton:(t={display:"block"},Object(T.a)(t,e.breakpoints.up("sm"),{display:"none"}),Object(T.a)(t,"& svg",{fill:"white"}),t),search:Object(T.a)({display:"block",width:"100%"},e.breakpoints.up("sm"),{width:"350px"})}},Q=10,X=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){var t=new RegExp("^[0]{"+Q+",}.*");window.location=(t.exec(e)?it.BLOCK_DETAILS_PAGE:it.TRANSACTION_DETAILS_PAGE).path.replace(":id",e)},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.searchExpanded&&!e.searchExpanded&&setTimeout(function(){var e=document.querySelector("#".concat(t.props.id," input"));e&&e.focus()},300)}},{key:"render",value:function(){return r.a.createElement("div",{id:this.props.id,className:this.props.classes.search},r.a.createElement(Y,{placeholder:"Search by block/transaction hash",onSubmit:this.onSubmit}))}}]),t}(r.a.Component),Z=Object(W.withStyles)($)(X),ee=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={mobileSearchExpanded:!1},a.toggleMobileSearchExpanded=function(){a.setState({mobileSearchExpanded:!a.state.mobileSearchExpanded})},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.mobileSearchExpanded;return r.a.createElement(E.a,{position:"sticky",className:e.root},r.a.createElement(g.a,{className:G()(e.container,Object(T.a)({},e.containerExpanded,t))},r.a.createElement(x.a,{variant:"h6",color:"inherit",noWrap:!0},r.a.createElement(z,{url:"/"},"Blockchain Viewer")),r.a.createElement("div",{className:e.grow}),r.a.createElement(A.a,{className:e.mobileSearchButton,"aria-label":"Toggle search bar display",onClick:this.toggleMobileSearchExpanded},t?r.a.createElement(I.a,null):r.a.createElement(H.a,null)),r.a.createElement(Z,{id:"navigation-search",searchExpanded:t})))}}]),t}(r.a.Component),te=Object(W.withStyles)($)(ee),ae={body:{paddingTop:"2rem",marginBottom:"4rem"}},ne=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(te,null),r.a.createElement(D.a,{container:!0,justify:"center",className:this.props.classes.body},r.a.createElement(D.a,{item:!0,xs:11,sm:10,lg:8},this.props.children)))}}]),t}(r.a.Component),re=C()(ae)(ne),ce=a(152),se=a(112),oe=a(58),ie=a.n(oe),le={BLOCKCHAIN_API:{url:"https://blockchain.info"}},he=a(153),ue=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).call(this,le.BLOCKCHAIN_API.url))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"getTransactionDetails",value:function(e){return this.sendRequest("/rawtx/"+e)}},{key:"getBlockDetails",value:function(e){return this.sendRequest("/rawblock/"+e)}},{key:"getLatestBlock",value:function(){return this.sendRequest("/latestblock")}}]),t}(function(e){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(u.a)(this,t),a.headers||(a.headers={}),a.headers["Content-Type"]="application/json",Object(p.a)(this,Object(d.a)(t).call(this,e,a))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"sendRequest",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(he.a)(Object(d.a)(t.prototype),"sendRequest",this).call(this,e,a).then(function(e){return e.json()})}}]),t}(function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(u.a)(this,e),this.baseUrl="",this.baseOptions={},this.baseUrl=t,this.baseOptions=a,this.baseOptions.headers["Access-Control-Allow-Origin"]="*",this.baseOptions.headers["Access-Control-Allow-Headers"]="Content-Type"}return Object(m.a)(e,[{key:"sendRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(this.baseUrl+e,Object.assign({},this.baseOptions,t)).catch(console.error)}}]),e}())),me=a(42),pe=a.n(me),de=a(43),be=a.n(de),fe=a(44),Ee=a.n(fe),ke=a(34),ge=a.n(ke),Oe=a(30),ve=a.n(Oe),je=a(57),ye=a.n(je),we=a(36),xe=a.n(we),Se=a(41),Ce=a.n(Se);function Ne(e){var t=new Date(1e3*e);return t.toLocaleDateString()+" ("+t.toLocaleTimeString()+")"}var De=r.a.createContext({hash:"",updateHash:function(){}}),Te=function(e){return{card:{width:"100%",padding:"0 1rem"},grow:{flexGrow:1},tableTitle:{fontSize:15,fontWeight:"500",padding:"1.5rem 0 .4rem"},tableContainer:{maxWidth:400,flexGrow:1,paddingRight:"1rem !important","& tr:nth-of-type(odd)":{backgroundColor:"#fcfcfc"}},hashesContainer:{width:"100%",maxWidth:500},blockHash:{"& a":{textDecoration:"none"},overflow:"hidden",textOverflow:"ellipsis"}}},Be=function(e,t){return r.a.createElement(ge.a,null,r.a.createElement(ve.a,null,e),r.a.createElement(ve.a,null,t))},Ae=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.blockData;return r.a.createElement(Ce.a,{className:t.card},r.a.createElement(pe.a,null,r.a.createElement(D.a,{container:!0,justify:"flex-start",spacing:16},r.a.createElement(D.a,{item:!0,md:5,className:t.tableContainer},r.a.createElement(x.a,{className:t.tableTitle},"Summary"),r.a.createElement(be.a,null,r.a.createElement(Ee.a,null,Be("Number of Transactions",a.n_tx),Be("Timestamp",Ne(a.time)),Be("Transaction Fees",a.fee/1e8+" BTC"),Be("Height",a.height),Be("Bits",a.bits)))),r.a.createElement(D.a,{item:!0,className:t.hashesContainer},r.a.createElement(x.a,{className:t.tableTitle},"Hash"),r.a.createElement(x.a,{className:t.blockHash},a.hash),r.a.createElement(x.a,{className:t.tableTitle},"Previous Block"),r.a.createElement(x.a,{color:"primary",className:t.blockHash},r.a.createElement(z,{url:it.BLOCK_DETAILS_PAGE.path.replace(":id",a.prev_block),onClick:function(){e.context.updateHash(a.prev_block)}},a.prev_block)),a.next_block.length>0&&r.a.createElement(x.a,{className:t.tableTitle},"Next Block"),r.a.createElement(x.a,{color:"primary",className:t.blockHash},a.next_block.map(function(t){return r.a.createElement(z,{key:t,url:it.BLOCK_DETAILS_PAGE.path.replace(":id",t),onClick:function(){e.context.updateHash(t)}},t)}))))),r.a.createElement(ye.a,null,r.a.createElement(D.a,{container:!0,justify:"center"},r.a.createElement(xe.a,{size:"small",color:"primary",onClick:function(){window.open("https://www.blockchain.com/btc/block/"+a.hash,"_blank")}},"View block on blockchain.com"))))}}]),t}(r.a.Component);Ae.contextType=De;var _e=C()(Te)(Ae),He=a(74),Le=a.n(He),Ie=a(75),We=a.n(Ie),Pe=a(38),Ge=a.n(Pe),Re=a(151),Ue=a.n(Re),ze=a(150),Ke=a.n(ze),Ve={root:{width:"100%"},transactionHeader:{cursor:"pointer"},transactionDetails:{"&> div":{boxShadow:"none"}}},qe=function(e){return{card:{height:400,display:"flex",flexDirection:"column",justifyContent:"space-between"},cardContent:{display:"flex",flexDirection:"column",justifyContent:"space-between",flexGrow:1},title:{fontSize:15,fontWeight:"500"},hash:{overflow:"hidden",textOverflow:"ellipsis",paddingBottom:"2rem"},error:{fontSize:14,color:"#333",width:"75%"},loadingContainer:{height:240,flexGrow:1},table:{height:240,maxWidth:400,flexGrow:1,"& tr:nth-of-type(odd)":{backgroundColor:"#fcfcfc"}}}},Fe=function(e,t){return r.a.createElement(ge.a,null,r.a.createElement(ve.a,null,e),r.a.createElement(ve.a,null,t))},Me=function(e){return{apiError:!1,isLoading:!1,transactionData:e.data}},Je=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).fetchTransactionData=function(){a.state.isLoading||((new ue).getTransactionDetails(a.props.hash).catch(function(){a.setState({apiError:!0,isLoading:!1})}).then(function(e){a.setState({transactionData:e})}),a.setState({isLoading:!0}))},a.state=Me(e),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.data||this.fetchTransactionData()}},{key:"componentDidUpdate",value:function(e){this.props.data||e.hash===this.props.hash||this.fetchTransactionData()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.transactionData;return r.a.createElement(Ce.a,{className:t.card},r.a.createElement(pe.a,{className:t.cardContent},r.a.createElement(x.a,{className:t.title},"Hash"),r.a.createElement(x.a,{className:t.hash,color:"textSecondary"},this.props.hash),a?r.a.createElement(be.a,{className:t.table},r.a.createElement(Ee.a,null,Fe("Created Date",Ne(a.time)),Fe("Transaction Index",a.tx_index),Fe("Size",a.size+" (bytes)"),Fe("Block Index",a.block_index),Fe("Block Height",a.block_height))):r.a.createElement(D.a,{container:!0,justify:"center",alignItems:"center",className:t.loadingContainer},this.state.apiError&&r.a.createElement(x.a,{className:t.error},"Oops! There was an error retrieving transaction details for this hash."),!a&&!this.state.apiError&&r.a.createElement(ie.a,{size:60}))),r.a.createElement(ye.a,null,r.a.createElement(D.a,{container:!0,justify:"center"},r.a.createElement(xe.a,{size:"small",color:"primary",onClick:function(){window.open("https://www.blockchain.com/btc/tx/"+e.props.hash,"_blank")}},"View on blockchain.com"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.transactionData&&t.transactionData.hash===e.hash?null:Me(e)}}]),t}(r.a.Component),Ye=Object(W.withStyles)(qe)(Je),$e=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={page:0,selectedTransaction:void 0},a.handleTransactionSelected=function(e){var t=a.state.selectedTransaction&&e.hash===a.state.selectedTransaction.hash;a.setState({selectedTransaction:t?void 0:e})},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.transactions,c=this.state.selectedTransaction,s=n.slice(10*this.state.page,10*this.state.page+10);return r.a.createElement(Ce.a,{className:a.root},r.a.createElement(pe.a,null,r.a.createElement(be.a,{className:a.table},r.a.createElement(Ee.a,null,s.map(function(t){var n=c&&c.hash===t.hash;return r.a.createElement(r.a.Fragment,{key:t.tx_index},r.a.createElement(ge.a,null,r.a.createElement(ve.a,{onClick:function(){e.handleTransactionSelected(t)}},r.a.createElement(D.a,{container:!0,justify:"space-between",className:a.transactionHeader},r.a.createElement(Ge.a,null,r.a.createElement(x.a,null,"Transaction Index #",t.tx_index)),r.a.createElement(xe.a,null,n?r.a.createElement(Ke.a,null):r.a.createElement(Ue.a,null))))),n&&r.a.createElement(ge.a,null,r.a.createElement(ve.a,{className:a.transactionDetails},r.a.createElement(Ye,{data:c,hash:c.hash}))))})),r.a.createElement(Le.a,null,r.a.createElement(ge.a,null,r.a.createElement(We.a,{rowsPerPageOptions:[10],colSpan:3,count:this.props.transactions.length,rowsPerPage:10,page:this.state.page,SelectProps:{native:!0},onChangePage:function(t,a){e.setState({page:a})}}))))))}}]),t}(r.a.Component),Qe=C()(Ve)($e),Xe={title:{paddingBottom:".5rem"},tabContainer:{width:"100%",minHeight:200}},Ze=function(e){return{apiError:!1,blockData:e.data,isLoading:!1,tabIndex:0}},et=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).fetchBlockDetails=function(){a.state.isLoading||((new ue).getBlockDetails(a.props.hash).catch(function(){a.setState({apiError:!0,isLoading:!1})}).then(function(e){a.setState({blockData:e})}),a.setState({isLoading:!0}))},a.state=Ze(e),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.data||this.fetchBlockDetails()}},{key:"componentDidUpdate",value:function(e){e.hash!==this.props.hash&&this.fetchBlockDetails()}},{key:"render",value:function(){var e=this,t=this.state.blockData;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{variant:"h6",className:this.props.classes.title},t?"Block #".concat(t.block_index):"Loading block..."),r.a.createElement(V.a,null,r.a.createElement(ce.a,{value:this.state.tabIndex,onChange:function(t,a){e.setState({tabIndex:a})},indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(se.a,{label:"Summary"}),r.a.createElement(se.a,{label:"Transactions"}))),r.a.createElement(D.a,{container:!0,className:this.props.classes.tabContainer},0===this.state.tabIndex&&t&&r.a.createElement(_e,{blockData:t}),1===this.state.tabIndex&&t&&r.a.createElement(Qe,{transactions:t.tx}),!t&&this.state.apiError&&r.a.createElement(x.a,null,"Oops! There was an error retrieving block details for this hash."),!t&&!this.state.apiError&&r.a.createElement(D.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(ie.a,{size:60}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.blockData&&t.blockData.hash===e.hash?null:Ze(e)}}]),t}(r.a.Component),tt=C()(Xe)(et),at={toolbar:{marginBottom:"2rem"},grow:{flexGrow:1}},nt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={isWebSocketEnabled:!0},a.updateHash=function(e){a.setState({latestBlockHash:e})},a.toggleAutoUpdate=function(){var e=!a.state.isWebSocketEnabled;e?a.startWebSocket():a.stopWebSocket(),a.setState({isWebSocketEnabled:e})},a.startWebSocket=function(){a.socket.send(JSON.stringify({op:"blocks_sub"}))},a.stopWebSocket=function(){a.socket.send(JSON.stringify({op:"blocks_unsub"}))},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;(new ue).getLatestBlock().then(function(t){e.setState({latestBlockHash:t.hash})}),this.socket=new WebSocket("wss://ws.blockchain.info/inv"),this.socket.onopen=function(){e.startWebSocket()},this.socket.onmessage=function(t){var a=JSON.parse(t.data);a.x&&e.updateHash(a.x.hash)}}},{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(re,null,r.a.createElement(E.a,{position:"static",color:"default",className:e.toolbar},r.a.createElement(g.a,null,r.a.createElement(x.a,{variant:"h6",color:"inherit",className:e.grow},"Latest Block"),r.a.createElement(v.a,{control:r.a.createElement(y.a,{checked:this.state.isWebSocketEnabled,onChange:this.toggleAutoUpdate,value:"checkedB",color:"primary"}),label:"Auto Update",labelPlacement:"start"}))),this.state.latestBlockHash&&r.a.createElement(De.Provider,{value:{hash:this.state.latestBlockHash,updateHash:this.updateHash}},r.a.createElement(tt,{hash:this.state.latestBlockHash})))}}]),t}(r.a.Component),rt=C()(at)(nt),ct=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).updateHash=function(e){a.setState({hash:e})},a.state={hash:e.match.params.id,updateHash:a.updateHash},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(re,null,r.a.createElement(De.Provider,{value:this.state},r.a.createElement(tt,{hash:this.state.hash})))}}]),t}(r.a.Component),st={container:{maxWidth:550,margin:"auto"},title:{paddingBottom:".5rem"}},ot=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(re,null,r.a.createElement(D.a,{container:!0,justify:"center",className:this.props.classes.container},r.a.createElement(D.a,{item:!0,xs:12},r.a.createElement(x.a,{variant:"h6",className:this.props.classes.title},"Transaction"),r.a.createElement(Ye,{hash:this.props.match.params.id}))))}}]),t}(r.a.Component),it={NEW_BLOCKS_PAGE:{path:"/new",component:rt},BLOCK_DETAILS_PAGE:{path:"/block/:id",component:ct},TRANSACTION_DETAILS_PAGE:{path:"/tx/:id",component:C()(st)(ot)}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null),r.a.createElement(function(){return r.a.createElement(l.a,null,r.a.createElement(h.d,null,Object.keys(it).map(function(e){return r.a.createElement(h.b,{key:e,exact:!0,path:it[e].path,component:it[e].component})}),r.a.createElement(h.a,{to:it.NEW_BLOCKS_PAGE.path})))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[225,1,2]]]);
//# sourceMappingURL=main.27770561.chunk.js.map